
include <TinkerLib.scad>;

SCALE=0.8;

module drawStrips(width, length, height, count, spacing)
{
	for ( i = [ 0 : count-1 ] )
	{
		translate([i*spacing,0,0])
		cube([width,length,height]);
	}
}


module airfoil()
{
ptArr = [
[0 , 0 ],
[0.108712 , 0.663448 ],
[0.434848 , 1.312672 ],
[0.976376 , 2.044192 ],
[1.731264 , 2.80924 ],
[2.695448 , 3.542792 ],
[3.866896 , 4.377944 ],
[5.238496 , 5.240528 ],
[6.806184 , 6.107176 ],
[8.561832 , 6.965696 ],
[10.497312 , 7.80796 ],
[12.606528 , 8.62584 ],
[14.87932 , 9.411208 ],
[17.305528 , 10.153904 ],
[19.874992 , 10.847832 ],
[22.576536 , 11.48588 ],
[25.4 , 12.05992 ],
[28.332176 , 12.56284 ],
[31.359856 , 12.987528 ],
[34.470848 , 13.328904 ],
[37.651944 , 13.58392 ],
[40.88892 , 13.742416 ],
[44.169584 , 13.788136 ],
[47.47768 , 13.70584 ],
[50.8 , 13.486384 ],
[54.12232 , 13.125704 ],
[57.430416 , 12.627864 ],
[60.71108 , 11.996928 ],
[63.948056 , 11.240008 ],
[67.129152 , 10.371328 ],
[70.240144 , 9.411208 ],
[73.267824 , 8.391144 ],
[76.2 , 7.348728 ],
[79.023464 , 6.328664 ],
[81.72501816 , 5.371592 ],
[84.294472 , 4.507992 ],
[86.72068 , 3.748024 ],
[88.99348216 , 3.08864 ],
[93.038168 , 2.022856 ],
[96.361504 , 1.220216 ],
[98.904552 , 0.641096 ],
[100.623624 , 0.246888 ],
[101.491288 , 0.027432 ],
[101.6 , 0 ],
[0 , 0 ],
[0.108712 , -0.220472 ],
[0.434848 , -0.522224 ],
[0.976376 , -0.82804 ],
[1.731264 , -1.073912 ],
[2.695448 , -1.342136 ],
[3.866896 , -1.60528 ],
[5.238496 , -1.856232 ],
[6.806184 , -2.094992 ],
[8.561832 , -2.318512 ],
[10.497312 , -2.52984 ],
[12.606528 , -2.724912 ],
[14.87932 , -2.901696 ],
[17.305528 , -3.059176 ],
[19.874992 , -3.196336 ],
[22.576536 , -3.313176 ],
[25.4 , -3.407664 ],
[28.332176 , -3.4798 ],
[31.359856 , -3.529584 ],
[34.470848 , -3.554984 ],
[37.651944 , -3.557016 ],
[40.88892 , -3.53568 ],
[44.169584 , -3.48996 ],
[47.47768 , -3.41884 ],
[50.8 , -3.324352 ],
[54.12232 , -3.20548 ],
[57.430416 , -3.060192 ],
[60.71108 , -2.889504 ],
[63.948056 , -2.696464 ],
[67.129152 , -2.475992 ],
[70.240144 , -2.221992 ],
[73.267824 , -1.926336 ],
[76.2 , -1.597152 ],
[79.023464 , -1.255776 ],
[81.72501816 , -0.927608 ],
[84.294472 , -0.635 ],
[86.72068 , -0.392176 ],
[88.99348216 , -0.200152 ],
[93.038168 , 0.037592 ],
[96.361504 , 0.125984 ],
[98.904552 , 0.10668 ],
[100.623624 , 0.044704 ],
[101.491288 , 0.00508 ],
[101.6 , 0 ]];
polyArr=[[
0 ,
1 ,
2 ,
3 ,
4 ,
5 ,
6 ,
7 ,
8 ,
9 ,
10 ,
11 ,
12 ,
13 ,
14 ,
15 ,
16 ,
17 ,
18 ,
19 ,
20 ,
21 ,
22 ,
23 ,
24 ,
25 ,
26 ,
27 ,
28 ,
29 ,
30 ,
31 ,
32 ,
33 ,
34 ,
35 ,
36 ,
37 ,
38 ,
39 ,
40 ,
41 ,
42 ,
43 ,
87 ,
86 ,
85 ,
84 ,
83 ,
82 ,
81 ,
80 ,
79 ,
78 ,
77 ,
76 ,
75 ,
74 ,
73 ,
72 ,
71 ,
70 ,
69 ,
68 ,
67 ,
66 ,
65 ,
64 ,
63 ,
62 ,
61 ,
60 ,
59 ,
58 ,
57 ,
56 ,
55 ,
54 ,
53 ,
52 ,
51 ,
50 ,
49 ,
48 ,
47 ,
46 ,
45 ,
44]];
translate([-50,0, 0])
{
linear_extrude(height=3, center = false, convexity=10, twist=0)
polygon(points=ptArr, paths=polyArr);
}
/* polygon(points=[[0,0], [100,0], [0,100]], paths=[[0, 1, 2]] ); */
}

module drawSmallAirfoil(scale)
{
	translate([-5,1,0])
	scale([scale,scale,1.0])
	airfoil();
}


module drawAirfoilWithStruts()
{
	difference()
	{
		airfoil();

		drawSmallAirfoil(SCALE);
	}

	intersection()
	{
		drawSmallAirfoil(SCALE);

		union()
		{
			translate([-50,-50,0])
			rotate([0,0,30])
			drawStrips(3, 100, 4, 10, 10);

			//translate([-80,-50,0])
			//rotate([0,0,-30])
			//drawStrips(3, 100, 4, 10, 10);
		}
	}
}

drawBuildArea();
airfoil();
translate([0,30,0])
drawAirfoilWithStruts();
